<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="./output.css" rel="stylesheet" />
</head>

<body class="bg-slate-950">
    <%- include('partials/common_starting') %>

        <div class="h-screen flex">
           <%- include('partials/navbar') %>
            <div class="flex min-h-screen pt-12">
                <!--main div -->
                 <%- include('partials/sidebar') %>
                <div>
                    <!-- <p class="mt-4 text-gray-700">This is your main content area.</p> -->

                    <div id="clr" class="relative mx-5 ml-56 mt-6">
                        <div id="selected"
                            class="text-gray-300 text-xl mt-3 animate-bounce transition-opacity duration-500">
                            Select Colour
                        </div>
                        <div class="items-center space-y-4">
                            <div class="border-2 border-gray-700 p-2 rounded-xl text-center justify-center mt-3.5">
                                <!--to get something b/w 80 and 96 (ml-[340px])-->
                                <input id="betInput" placeholder="Enter Amount" type="number"
                                    class="text-white underline border border-white p-2 rounded-md bg-transparent" />
                                <div class="mt-2 space-x-2">
                                    <button onclick="setBet('min')"
                                        class="text-gray-300 bg-slate-700 p-2 rounded-xl hover:bg-slate-500 hover:scale-105">Min</button>
                                    <button onclick="changeBet(15)"
                                        class="text-gray-300 bg-slate-700 p-2 rounded-xl hover:bg-slate-500 hover:scale-105">+15</button>
                                    <button onclick="changeBet(20)"
                                        class="text-gray-300 bg-slate-700 p-2 rounded-xl hover:bg-slate-500 hover:scale-105">+20</button>
                                    <button onclick="setBet('max')"
                                        class="text-gray-300 bg-slate-700 p-2 rounded-xl hover:bg-slate-500 hover:scale-105">Max</button>
                                </div>
                            </div>
                            <div class="flex justify-between space-x-2 items-center text-center">
                                <div onclick="color_select('Rose')"
                                    class="border-2 border-gray-700 bg-[#e4778a] p-4 w-full rounded-xl hover:scale-110 transition-transform hover:underline hover:cursor-pointer duration-300">
                                    <h2 class="text-black">Rose</h2>
                                </div>

                                <div onclick="color_select('Blue')"
                                    class="border-2 border-gray-700  bg-[#99D5F4] p-4 w-full rounded-xl hover:scale-110 transition-transform hover:underline hover:cursor-pointer duration-300">
                                    <h2 class="text-black">Blue</h2>
                                </div>
                            </div>

                            <div class="flex justify-between space-x-2 items-center text-center">
                                <div onclick="color_select('Violet')"
                                    class="border-2 border-gray-700 bg-[#753471] p-4 w-full rounded-xl hover:scale-110 transition-transform hover:underline hover:cursor-pointer duration-300">
                                    <h2 class="text-black">Violet</h2>
                                </div>

                                <div onclick="color_select('None')"
                                    class="border-2 border-gray-700  bg-[#f8e4cc] p-4 w-full rounded-xl hover:scale-110 transition-transform hover:underline hover:cursor-pointer duration-300">
                                    <h2 class="text-black">None</h2>
                                </div>
                            </div>

                            <div class="justify-center flex">
                                <button onclick="startGame()"
                                    class="text-black bg-green-500 p-4 rounded-lg w-full font-bold hover:bg-green-700 hover:cursor-pointer transition-colors duration-300">Place
                                    Bet</button>
                            </div>
                        </div>


                    </div>




                </div>
            </div>
            <div>
                <div>
                    <div class="flex">
                        <div>
                            <div id="result" class="mt-16 text-center text-2xl text-white">
                                Start Betting
                            </div>
                            <div>
                                <img src="./Main_Photos/Full.jpg" id="imagee" class="w-[350px] max-h-screen mt-2">
                            </div>
                        </div>
                        <div>
                            <!-- <div id="result"
                            class="mt-16 font-sans font-bold text-[#00FFFF] text-3xl text-center w-fit shadow-[0_0_20px_#00FFFF]">
                            Bikini Swap
                            <img src="./Main_Photos/Poster.jpg" class="w-[180px] mt-0 object-contain rounded-md">
                        </div> -->

                            <div class="relative mt-16 w-fit mx-auto">
                                <!-- Pulsing shadow layer -->
                                <div
                                    class="absolute inset-0 rounded-md shadow-[0_0_20px_#00FFFF] animate-pulse blur-sm">
                                </div>

                                <!-- Actual content -->
                                <div id="result"
                                    class="relative font-sans font-bold text-[#00FFFF] text-3xl text-center">
                                    Bikini Swap
                                    <img src="./Main_Photos/Poster.jpg"
                                        class="w-[180px] mt-0 object-contain rounded-md mx-auto" />
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

            </div>


        </div>
        </div>
        <script src="./cn.js"></script>
        <script>
            let bet = 0;
            let gameActive = false;

            const profitInput = document.getElementById('profit');
            const betInput = document.getElementById('betInput');
            const placeBetBtn = document.getElementById('placeBetBtn');

            function setBet(mode) {
                if (mode === 'min') betInput.value = 10;
                else if (mode === 'max') betInput.value = 1000;
            }
            let cl = "";
            let done = false;
            let selected = "";
            function color_select(colr) {
                if (done) {
                    return;
                }
                cl = colr;
                done = true;
                nm = document.getElementById("selected");
                nm.classList.add("opacity-0");
                setTimeout(() => {
                    nm.textContent = "Chosen - " + colr;
                    nm.classList.remove("opacity-0", "animate-bounce");
                }, 300);
                selected = colr;
            }

            function changeBet(x) {
                const current = Number(betInput.value) || 0;
                betInput.value = current + x;
            }

            function startGame() {
                const betAmount = Number(betInput.value) || 0;

                if (cl == "") {
                    alert("Please select a color choice.");
                    return;
                }
                if (cl == "") {
                    alert("You can not bet 0 coins.");
                    return;
                }
                nm = document.getElementById("selected");
                imgg = document.getElementById("imagee");
                txtt = document.getElementById("result");
                let sc = "";

                let r = Math.floor(Math.random() * 3) + 1;
                if (r == 1)
                    sc = './Main_Photos/blue.jpg';
                if (r == 2)
                    sc = './Main_Photos/violet.jpg';
                if (r == 3)
                    sc = './Main_Photos/pink.jpg';

                imgg.src = sc;

                if ((r == 1 && cl == "Blue") || (r == 2 && cl == "Violet") || (r == 3 && cl == "Rose")) {
                    txtt.textContent = "You Win";
                    txtt.classList.remove('text-white');
                    txtt.classList.remove('text-red-500');
                    txtt.classList.add('text-green-400');
                    updateCoins(2 * betAmount);
                } else {
                    txtt.textContent = "You Lose";
                    txtt.classList.remove('text-white');
                    txtt.classList.remove('text-green-400');
                    txtt.classList.add('text-red-500');
                    updateCoins(-1 * betAmount);
                }
                nm.classList.add("opacity-0");
                setTimeout(() => {
                    nm.textContent = "Select Colour";
                    nm.classList.remove("opacity-0");
                }, 300);
                nm.classList.add("animate-bounce");


                setTimeout(() => {
                    imgg.src = "./Main_Photos/Full.jpg";
                }, 2000);


                cl = "";
                done = false;
            }

            function toggle_12000() {
                const el = document.getElementById('12000');
                el.classList.toggle('hidden');
            }
        </script>
        <script src="./script.js"></script>

</body>

</html>